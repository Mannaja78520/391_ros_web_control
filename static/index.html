<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ROS2 + 3 Cameras Dashboard</title>
  <link rel="stylesheet" href="/static/css/style.css" />
</head>
<body>
  <header><h1>ROS2 + 3 Cameras Dashboard</h1></header>

  <div class="wrap">
    <!-- Camera Slots 1..3 -->
    <div id="cam1" class="card">
      <h3>Camera 1 <span id="s1" class="pill">-</span></h3>
      <div class="body">
        <div class="grid">
          <div><label>Device</label><select id="dev1"></select></div>
          <div><label>Format</label><select id="fmt1"></select></div>
          <div><label>Resolution</label><select id="res1"></select></div>
          <div><label>FPS</label><select id="fps1"></select></div>
        </div>
        <div style="margin-top:10px"><button onclick="applySlot(1)">Apply</button></div>
      </div>
      <video id="vid1" class="preview" autoplay playsinline muted></video>
    </div>

    <div id="cam2" class="card">
      <h3>Camera 2 <span id="s2" class="pill">-</span></h3>
      <div class="body">
        <div class="grid">
          <div><label>Device</label><select id="dev2"></select></div>
          <div><label>Format</label><select id="fmt2"></select></div>
          <div><label>Resolution</label><select id="res2"></select></div>
          <div><label>FPS</label><select id="fps2"></select></div>
        </div>
        <div style="margin-top:10px"><button onclick="applySlot(2)">Apply</button></div>
      </div>
      <video id="vid2" class="preview" autoplay playsinline muted></video>
    </div>

    <div id="cam3" class="card">
      <h3>Camera 3 <span id="s3" class="pill">-</span></h3>
      <div class="body">
        <div class="grid">
          <div><label>Device</label><select id="dev3"></select></div>
          <div><label>Format</label><select id="fmt3"></select></div>
          <div><label>Resolution</label><select id="res3"></select></div>
          <div><label>FPS</label><select id="fps3"></select></div>
        </div>
        <div style="margin-top:10px"><button onclick="applySlot(3)">Apply</button></div>
      </div>
      <video id="vid3" class="preview" autoplay playsinline muted></video>
    </div>

    <!-- ROS Panel (Rightmost) -->
    <div class="card ros-card">
      <h3>ROS2 Telemetry</h3>
      <div class="body">
        <div class="kv"><span>Status</span><span id="ros_status" class="mono">-</span></div>
        <div class="kv"><span>Ping (ms)</span><span id="ros_ping" class="mono">-</span></div>
        <div class="kv"><span>Battery (V)</span><span id="ros_battery" class="mono">-</span></div>
        <div class="kv"><span>Rack Distance</span><span id="ros_rack_distance" class="mono">-</span></div>
        <div class="kv"><span>Encoder</span><span id="ros_enc" class="mono">-</span></div>
        <div class="kv"><span>Encoder Distance</span><span id="ros_encoder_dist" class="mono">-</span></div>
        <div class="kv"><span>Robot Stage</span><span id="ros_stage" class="mono">-</span></div>
        <div class="kv"><span>Servo Position</span><span id="ros_servo_position" class="mono">-</span></div>
        <div class="kv"><span>Seedling #</span><span id="ros_seedling_index" class="mono">-</span></div>
        <div class="kv"><span>IMU yaw</span><span id="ros_imu_yaw" class="mono">-</span></div>
        <div class="kv"><span>Odom x,y,Î¸</span><span id="ros_odom_pose" class="mono">-</span></div>
        <div class="kv"><span>Last update</span><span id="ros_ts" class="mono">-</span></div>
      </div>
    </div>
  </div>

  <script src="/static/js/cams.js"></script>
  <script src="/static/js/ros.js"></script>
  <script src="/static/js/webrtc.js"></script>
</body>
</html>
