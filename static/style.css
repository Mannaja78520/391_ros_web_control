:root {
  color-scheme: dark;
  --bg: #111;
  --panel: #1a1a1a;
  --border: #2b2b2b;
  --text: #eee;
  --muted: #aaa;
  --chip: #222;
  --accent: #2f6bfd;
}

* { box-sizing: border-box; }
html, body { margin: 0; padding: 0; background: var(--bg); color: var(--text); font-family: system-ui, ui-sans-serif, Segoe UI, Arial; }

.bar { display: flex; gap: 8px; padding: 12px 16px; border-bottom: 1px solid var(--border); position: sticky; top: 0; background: rgba(17,17,17,.9); backdrop-filter: blur(6px); z-index: 10; }
.chip { display: inline-flex; align-items: center; gap: 6px; padding: 6px 10px; border: 1px solid var(--border); border-radius: 999px; background: var(--chip); color: var(--text); font-size: 12px; }

.controls { display: flex; align-items: center; gap: 8px; padding: 12px 16px; border-bottom: 1px solid var(--border); }
.controls select, .controls button { background: var(--panel); color: var(--text); border: 1px solid var(--border); border-radius: 8px; padding: 6px 10px; }
.controls button:hover { border-color: var(--accent); }

.grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
  gap: 12px;
  padding: 12px 16px 32px;
}

.card {
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 10px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.toolbar .row { display: flex; flex-wrap: wrap; gap: 8px; align-items: center; margin-bottom: 8px; }
.toolbar select, .toolbar button, .toolbar input[type="range"] {
  background: var(--bg); color: var(--text); border: 1px solid var(--border); border-radius: 8px; padding: 6px 10px;
}
.toolbar button:hover { border-color: var(--accent); }

.video-wrap {
  position: relative;
  overflow: hidden;
  border-radius: 12px;
  background: #000;
}

.vid {
  display: block;
  background: #000;
  border-radius: 12px;
  object-fit: contain;
}

/* Fit: video ใช้กว้าง 100% สูงออโต้, ซูมด้วย transform ที่ wrap */
.card.fit .video-wrap .vid { width: 100%; height: auto; }
.card.fit .video-wrap.scaled { transform-origin: top left; }

/* 1:1: JS ใส่ขนาดจริงเป็น px */
.card.one1 .video-wrap .vid { width: auto; height: auto; }
