:root { color-scheme: dark; }
* { box-sizing: border-box; }
body { font-family: system-ui,-apple-system,Segoe UI,Helvetica,Arial,sans-serif; background:#111; color:#eee; margin:0; padding:16px; }

.bar { display:flex; gap:8px; align-items:center; flex-wrap:wrap; margin-bottom:12px; }
.chip { display:inline-block; padding:6px 12px; border:1px solid #333; border-radius:999px; background:#222; }
.spacer { flex:1; }
.btn, .btn-sm, button, select {
  border:1px solid #444; background:#1e1e1e; color:#eee; cursor:pointer;
}
.btn { padding:8px 14px; border-radius:8px; }
.btn-sm { padding:4px 10px; border-radius:6px; font-size:12px; }
button:hover { background:#2a2a2a; }

.controls { display:flex; gap:8px; align-items:center; flex-wrap:wrap; margin-bottom:12px; }
.grid { display:grid; grid-template-columns: repeat(auto-fill, minmax(280px,1fr)); gap:12px; }
.card { background:#151515; border:1px solid #2a2a2a; border-radius:12px; padding:10px; }
.toolbar { display:flex; gap:6px; align-items:center; justify-content:space-between; margin-bottom:8px; }
.row { display:flex; gap:6px; align-items:center; flex-wrap:wrap; }
.vid { display:block; background:#000; border-radius:8px; width:auto; height:auto; max-width:100%; object-fit:contain; }

/* ===== Layout: main + sidebar (ไม่ทับวิดีโอ) ===== */
.layout {
  display:grid;
  grid-template-columns: 1fr 360px; /* ขวาเป็นแผง ROS */
  gap:16px;
}
.sidebar {
  max-height: calc(100vh - 32px);
  overflow: auto;
  position: sticky;
  top: 16px;
}
.panel { background:#141414; border:1px solid #2a2a2a; border-radius:12px; margin-bottom:12px; }
.panel-header { display:flex; justify-content:space-between; align-items:center; padding:8px 10px; border-bottom:1px solid #2a2a2a; background:#121212; }
.panel-header.sticky { position: sticky; top: 0; z-index: 1; }
.panel-body { padding:10px; }

/* HUD styles */
.hud-grid { display:grid; grid-template-columns: 1fr; gap:8px; }
.hud-item { background:#121212; border:1px solid #2a2a2a; border-radius:10px; padding:8px; }
.hud-label { font-size:12px; opacity:.8; margin-bottom:4px; }
.hud-value { font-variant-numeric: tabular-nums; font-size:22px; letter-spacing:0.5px; }

/* ROS Message list */
.list .item { border-bottom:1px dashed #2a2a2a; padding:6px 0; }
.list .item:last-child { border-bottom:none; }
.list .topic { font-weight:600; color:#cfe6ff; }
.list .time { opacity:.7; font-size:12px; }
.list .empty { opacity:.7; }

/* Responsive: มือถือให้ sidebar ลงล่าง */
@media (max-width: 980px) {
  .layout { grid-template-columns: 1fr; }
  .sidebar { position: static; max-height: none; }
}

/* ===== Optional: โหมด Float (สลับได้ด้วยปุ่ม) ===== */
body.float .sidebar {
  position: fixed; right: 16px; top: 76px; width: 360px;
  max-height: calc(100vh - 92px);
  z-index: 1000; /* ลอยทับเมื่อสลับโหมด */
}
